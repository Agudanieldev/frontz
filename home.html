<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <link rel='stylesheet' type='text/css' href='style.css'>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>
<body>
  

  
    <h1>NO PLACE LIKE </h1>
      <form action="">
    <button type="button" id="signoutbutton">Sign Out</button>
      </form>
  
    <hr>
    <h2 id="msg"></h2>
    <h2 id="greet"></h2>

    <script>
      let UserCreds = JSON.parse(sessionStorage.getItem("user-creds"));
      let UserInfo = JSON.parse(sessionStorage.getItem("user-info"));

      let MsgHead = document.getElementById('msg');
      let GreetHead = document.getElementById('greet');
      let SignoutBtn = document.getElementById('signoutbutton');

      let signout = () => {
        sessionStorage.removeItem("user-creds");
        sessionStorage.removeItem("user-info");
        window.location.href = '../../login.html'
      }

      let checkcred = () => {
        if (!sessionStorage.getItem("user-creds"))
        window.location.href = 'login.html'
        else {
          MsgHead.innerText = `user with email "${UserCreds.email}" logged in`;
          GreetHead.innerText = `welcome ${UserInfo.firstname + " " + UserInfo.lastname}!`;
        }
      }

      window.addEventListener('load', checkcred)
      SignoutBtn.addEventListener('click', signout);


    </script>
  
</body>
</html>